<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="https://code.highcharts.com/stock/highstock.js"></script>
        <script src="http://code.highcharts.com/highcharts.js"> </script>
        <script src="https://code.highcharts.com/modules/exporting.js"> </script>
        <script src="VisEng.js" type="text/javascript"></script>
        <script type="text/javascript" src="data.json"></script>
    </head>
    </head>
    
    <body>
        Select Chart Type: <select id="ChartType" onchange="run()">  <!--Call run() function-->
            <option value="0">Select</option>
            <option value="line">Line Chart</option>
            <option value="bar">Bar Chart</option>
            <option value="column">Column Chart</option>
            <option value="area">Area Chart</option>
            <option value="pie">Pie Chart</option>
        </select>
        
        <br/> Check for stacked Chart: <input type="checkbox" id="stackable" name="stackable" onclick="run()"/>
        <div id="dropdown" style="width:100%; margin-top: 200px;">
            <script>
		//chart type selector
		function run() {
			var type = document.getElementById("ChartType").value;
			var stack;
			
			if (document.getElementById('stackable').checked) 
			{
				stack = 'normal';
				
			} else {
				stack = '';
			}
			
			charting(type, stack);
		}
		
         function charting(chartType, stacked) {
		 
		 //---------------------json variables------------------------//
            var seriesOptions = [],
			seriesCounter = 0;
			var jData = ['https://www.highcharts.com/samples/data/jsonp.php?filename=msft-c.json&callback=?', 
						];
		//-----------------------------------------------------------//	 
			var data = [{name: 'Coca Cola', data: [100, 200, 300, 400]}, {name: 'Pepsi', data: [400, 300, 200, 100]}];
			
			if (chartType == "pie"){
				data = [{name: 'Brands',colorByPoint: true, data: [{name: 'Mr.Pepper',y: 60.53}, {name: '7up',y: 39.47}]}];
			}
			
			
			//bar chart
            var options = { cType: chartType, categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], cTitle: 'Cola sales bar', yTitle: 'Sales', renderTo: 'containerLine', stack: stacked };
            options.font = 'Verdana';
			
            chart(options, data);
			
					 
		
			
			//options for json chart
			var options = {cType: chartType, renderTo: 'container', cTitle: 'Json chart'};
			
			$.each(jData, function (i, name) {

				$.getJSON(name, function (data) {

					seriesOptions[i] = {
						name: name,
						data: data
					};

        
				
						chart(options, seriesOptions);
					
				});
			});
			 
         }
    </script>
            
        </div>
        
        <div id="containerLine" style="width:100%; height:400px; margin-top: 100px;">
        </div>
        <div id="container" style="width:100%; height:400px; margin-top: 100px;">
        </div>
        
    </body>
</html>